webpackJsonp([1],{"1alW":function(t,e,o){var i=o("kM2E");i(i.S,"Number",{isInteger:o("AKgy")})},"5Y/X":function(t,e){},"73LK":function(t,e){},"9bBU":function(t,e,o){o("mClu");var i=o("FeBl").Object;t.exports=function(t,e,o){return i.defineProperty(t,e,o)}},"9m7R":function(t,e){},AKgy:function(t,e,o){var i=o("EqjI"),s=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&s(t)===t}},BRSP:function(t,e){},C4MV:function(t,e,o){t.exports={default:o("9bBU"),__esModule:!0}},IgKd:function(t,e){},"RRo+":function(t,e,o){t.exports={default:o("c45H"),__esModule:!0}},ZaLi:function(t,e){},bOdI:function(t,e,o){"use strict";e.__esModule=!0;var i,s=o("C4MV"),a=(i=s)&&i.__esModule?i:{default:i};e.default=function(t,e,o){return e in t?(0,a.default)(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},c45H:function(t,e,o){o("1alW"),t.exports=o("FeBl").Number.isInteger},fNxA:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("bOdI"),s=o.n(i),a=o("Dd8w"),r=o.n(a),n=o("NYxO"),l=o("cI2h"),c={props:{product:Object}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return this.product?e("el-row",{staticClass:"product-item",attrs:{type:"flex",justify:"center",align:"middle"}},[e("el-col",{attrs:{span:20}},[this._v(this._s(this.product.name))]),this._v(" "),e("el-col",{staticClass:"text-right",attrs:{span:4}},[e("i",{staticClass:"el-icon-star-off"})])],1):this._e()},staticRenderFns:[]};var p=o("VU/8")(c,d,!1,function(t){o("9m7R")},"data-v-5edc65c1",null).exports,u={components:{PosProductItem:p},computed:r()({},Object(n.b)("pos",["posCategories","selectedShop"])),data:function(){return{keyword:"",loading:!1,dialogProductAdd:{isOpen:!1},urlParams:{s:"",l:10,p:1,oby:"created_at",sort:"desc"},urlParamsProduct:{s:"",l:10,p:1,oby:"created_at",sort:"desc",shop_id:"",category_id:""}}},methods:{getProductCategories:function(){var t=this;this.loading=!0,this.$store.dispatch("FetchProductCategories",this.urlParams).then(function(e){var o=e.data;o.messages,o.status_code;t.$store.dispatch("pos/setProductCategories",o.data.categories),t.loading=!1,t.pagination=r()({},t.pagination,{total:o.data.total})})},getProducts:function(){var t=this;this.loading=!0,this.$store.dispatch("pos/FetchPosProducts",this.urlParamsProduct).then(function(e){var o=e.data;o.messages,o.status_code;t.$store.dispatch("pos/setProducts",o.data.products),t.loading=!1,t.pagination=r()({},t.pagination,{total:o.data.total})})},handleProductCategoryChanged:function(t){this.urlParamsProduct=r()({},this.urlParamsProduct,{category_id:t}),this.getProducts()},initPos:function(t){this.urlParamsProduct.shop_id=t,this.getProductCategories(),this.getProducts()}},created:function(){var t=this.selectedShop;t&&this.initPos(t.shop_id)},watch:{selectedShop:function(t){var e=t.shop_id;this.initPos(e),this.urlParamsProduct.category_id=""}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category"},[o("div",{staticClass:"category__search"},[o("el-input",{attrs:{placeholder:"Cari kategori","suffix-icon":"el-icon-search",clearable:""},nativeOn:{click:function(e){return t.getProductCategories(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),o("div",{staticClass:"product-list"},t._l(t.posCategories,function(e){return t.posCategories?o("pos-product-item",{key:e.category_id,attrs:{product:e},nativeOn:{click:function(o){t.handleProductCategoryChanged(e.category_id)}}}):t._e()}))])},staticRenderFns:[]};var m=o("VU/8")(u,h,!1,function(t){o("5Y/X")},"data-v-2923f79a",null).exports,g=o("RRo+"),v=o.n(g),f={computed:r()({},Object(n.b)("pos",["posDialogProductAdd","posSelectedProduct"]),{posProductForm:function(){return this.posSelectedProduct}}),data:function(){return{title:"Product",options:[{value:"value",label:"Price"},{value:"percent",label:"Percentage"}],selectedPrice:null,posProductFormRules:{qty:[{required:!0,validator:function(t,e,o){if(!e)return o(new Error("Please input the qty"));v()(e)?e<1?o(new Error("Minimum quantity 1")):o():o(new Error("Please input digits"))},trigger:"blur"}]},formDialog:{visible:!1,status:"",selectedId:void 0,dialog:l.a.md}}},methods:{closePosDialogProductAdd:function(){this.$store.dispatch("pos/togglePosDialogProductAdd")},addOrder:function(){var t=this;this.$refs.posProductForm.validate(function(e){e&&(t.$store.dispatch("pos/addOrder",t.posProductForm),t.$store.dispatch("pos/togglePosDialogProductAdd"))})}}},_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.posSelectedProduct?o("el-dialog",{attrs:{title:t.posProductForm.name,"before-close":t.closePosDialogProductAdd,visible:t.posDialogProductAdd.isOpen,width:t.formDialog.dialog.width}},[o("el-form",{ref:"posProductForm",attrs:{model:t.posProductForm,rules:t.posProductFormRules,"label-position":t.formDialog.dialog.labelPosition,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"Quantity",prop:"qty"}},[o("el-input",{attrs:{type:"number",min:"0",max:t.posProductForm.stock,placeholder:"stock"},model:{value:t.posProductForm.qty,callback:function(e){t.$set(t.posProductForm,"qty",t._n(e))},expression:"posProductForm.qty"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Stock",prop:"stock"}},[t._v("\n      "+t._s(t.posProductForm.stock)+"\n    ")]),t._v(" "),o("el-form-item",{attrs:{label:"Pilih Harga"}},[o("el-radio-group",{model:{value:t.posProductForm.selectedPrice,callback:function(e){t.$set(t.posProductForm,"selectedPrice",t._n(e))},expression:"posProductForm.selectedPrice"}},t._l(t.posProductForm.prices,function(t,e){return o("el-radio-button",{key:e,attrs:{label:t.price}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"Diskon",prop:"discount"}},[o("el-row",{attrs:{gutter:5}},[o("el-col",{attrs:{sm:8}},[o("el-select",{attrs:{placeholder:"Select"},model:{value:t.posProductForm.discount.type,callback:function(e){t.$set(t.posProductForm.discount,"type",e)},expression:"posProductForm.discount.type"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{type:"number",min:"0",max:"100",placeholder:"stock"},model:{value:t.posProductForm.discount.value,callback:function(e){t.$set(t.posProductForm.discount,"value",t._n(e))},expression:"posProductForm.discount.value"}})],1)],1)],1),t._v(" "),o("el-form-item",[o("el-button",{on:{click:t.closePosDialogProductAdd}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addOrder}},[t._v("Add Order")])],1)],1)],1):t._e()},staticRenderFns:[]},P=o("VU/8")(f,_,!1,null,null,null).exports,b=o("ssT3"),y={components:{PosProductItem:p,PosDialogProductAdd:P},computed:r()({},Object(n.b)("pos",["posProducts","selectedShop"])),data:function(){return{keyword:"",loading:!1,dialogProductAdd:{isOpen:!1},urlParams:{s:"",l:10,p:1,oby:"created_at",sort:"desc",shop_id:Object(b.b)(),category_id:""}}},methods:{getProducts:function(){var t=this;this.loading=!0,this.$store.dispatch("pos/FetchPosProducts",this.urlParams).then(function(e){var o=e.data;o.messages,o.status_code;t.$store.dispatch("pos/setProducts",o.data.products),t.loading=!1,t.pagination=r()({},t.pagination,{total:o.data.total})})},showDialogProductAdd:function(t){this.$store.dispatch("pos/togglePosDialogProductAdd"),this.$store.dispatch("pos/setSelectedProduct",t),this.dialogProductAdd.isOpen=!this.dialogProductAdd.isOpen}}},S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"product"},[o("div",{staticClass:"product__search"},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Search","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getProducts(e):null}},model:{value:t.urlParams.s,callback:function(e){t.$set(t.urlParams,"s",e)},expression:"urlParams.s"}})],1),t._v(" "),o("div",{staticClass:"product-list"},[t.loading?o("div",{staticClass:"loading"},[o("i",{staticClass:"el-icon-loading icon"}),t._v(" Memuat data...\n    ")]):t._e(),t._v(" "),t._l(t.posProducts,function(e){return t.posProducts?o("pos-product-item",{key:e.id,attrs:{product:e},nativeOn:{click:function(o){t.showDialogProductAdd(e)}}}):t._e()}),t._v(" "),0===t.posProducts.length?o("div",{staticClass:"loading"},[t._v("Tidak ada produk")]):t._e()],2),t._v(" "),o("pos-dialog-product-add")],1)},staticRenderFns:[]};var x=o("VU/8")(y,S,!1,function(t){o("ZaLi")},"data-v-1b3344d7",null).exports,D=o("JCsD"),k={props:{product:Object},computed:{discountValue:function(){var t=this.product.discount,e=Object(D.c)(this.product.qty,this.product.selectedPrice);return Object(D.a)(e,t)},totalPrice:function(){return Object(D.c)(this.product.qty,this.product.selectedPrice)}}},C={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"product-item-detail"},[o("el-row",{staticClass:"product-item",attrs:{type:"flex",justify:"center",align:"middle"}},[o("el-col",{attrs:{span:16}},[t._v(t._s(t.product.name))]),t._v(" "),o("el-col",{attrs:{span:2}},[t._v(t._s(t.product.qty))]),t._v(" "),o("el-col",{staticClass:"text-right",attrs:{span:6}},[t._v("\n      "+t._s(t._f("toIdr")(t.totalPrice))+"\n    ")])],1),t._v(" "),0!==t.discountValue?o("el-row",{staticClass:"text-right discount"},[o("el-col",{attrs:{span:18}},[t._v("Diskon")]),t._v(" "),o("el-col",{attrs:{span:6}},[t._v(t._s(t._f("toIdr")(t.discountValue)))])],1):t._e()],1)},staticRenderFns:[]};var w=o("VU/8")(k,C,!1,function(t){o("73LK")},"data-v-7e5cd5e2",null).exports,F=o("lqDr"),O=this,$={props:{title:{type:String,default:"Unknown dialog"},visible:{type:Boolean,required:!0},onCancel:{type:Function,default:function(){O._visible=!1}},onConfirm:{type:Function,required:!0}},computed:{_title:function(){return this.title},_visible:function(){return this.visible}},data:function(){return{width:"50%",dialogSize:{sm:"30%",md:"50%",lg:"90%"},windowWidth:window.innerWidth}},methods:{makeDialogResponsive:function(){this.windowWidth<990?this.width=this.dialogSize.lg:this.width=this.dialogSize.md}},watch:{windowWidth:function(t,e){this.makeDialogResponsive()}},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("resize",function(e){t.windowWidth=window.innerWidth})})}},q={data:function(){return{money:{decimal:",",thousands:".",prefix:"Rp ",suffix:" ",precision:0,masked:!1}}}},R=["shop_id","payment",["products",[{product_id:null,price:0,quantity:0,discount_type:"percent",discount_value:0}]]],j={props:{totalOrder:{type:Number,required:!0}},mixins:[$,q],data:function(){return{formFields:R,posPaymentForm:Object(F.a)(R),idr:[1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100],totalPayment:0}},methods:{resetForm:function(){this.posPaymentForm=Object(F.a)(this.formFields)},addMoney:function(t){this.totalPayment=this.totalPayment+t,this.$store.dispatch("pos/setTotalPayment",this.totalPayment)}},watch:{totalPayment:function(t){console.log("WATCH total payment change to ",t),this.$store.dispatch("pos/setTotalPayment",this.totalPayment)}}},I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t._title,visible:t._visible,width:t.width,"before-close":t.onCancel,center:""}},[o("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[o("money",t._b({staticClass:"total-idr",model:{value:t.totalPayment,callback:function(e){t.totalPayment=e},expression:"totalPayment"}},"money",t.money,!1))],1),t._v(" "),o("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center"}},t._l(t.idr,function(e){return o("el-col",{key:e,attrs:{span:7}},[o("div",{staticClass:"money",on:{click:function(o){t.addMoney(e)}}},[t._v(t._s(t._f("toIdr")(e)))])])})),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.onCancel}},[t._v("Cancel")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v("Bayar")])],1)],1)},staticRenderFns:[]};var U=o("VU/8")(j,I,!1,function(t){o("IgKd")},"data-v-a74e51ec",null).exports,E=["shop_id","payment",["products",[{product_id:null,price:0,quantity:0,discount_type:"percent",discount_value:0}]]],V={props:{change:{type:Number,required:!0}},mixins:[$,q],data:function(){return{formFields:E,posPaymentForm:Object(F.a)(E),idr:[1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100],totalPayment:0}},methods:{resetForm:function(){this.posPaymentForm=Object(F.a)(this.formFields)},addMoney:function(t){this.totalPayment=this.totalPayment+t,this.$store.dispatch("pos/setTotalPayment",this.totalPayment)}},watch:{totalPayment:function(t){console.log("WATCH total payment change to ",t),this.$store.dispatch("pos/setTotalPayment",this.totalPayment)}}},A={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t._title,visible:t._visible,width:t.width,"before-close":t.onCancel,center:""}},[o("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[o("span",{staticClass:"total-idr"},[t._v(t._s(t._f("toIdr")(t.change)))])]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.onCancel}},[t._v("Cancel")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v("Print receipt")])],1)])},staticRenderFns:[]};var M=o("VU/8")(V,A,!1,function(t){o("BRSP")},"data-v-68dc13ec",null).exports,T={props:{visible:{type:Boolean,required:!0},product:{required:!0},index:{type:Number,required:!0}},computed:{_visible:function(){return this.visible}},data:function(){return{posProductForm:this.product,title:"Product",options:[{value:"value",label:"Price"},{value:"percent",label:"Percentage"}],selectedPrice:null,posProductFormRules:{qty:[{required:!0,validator:function(t,e,o){if(!e)return o(new Error("Please input the qty"));v()(e)?e<1?o(new Error("Minimum quantity 1")):o():o(new Error("Please input digits"))},trigger:"blur"}]},formDialog:{visible:!1,status:"",selectedId:void 0,dialog:l.a.md}}},methods:{closeDialog:function(){this.$emit("closeDialog")},updateOrder:function(){var t={index:this.index,order:this.posProductForm};this.$store.dispatch("pos/updateOrder",t),this.closeDialog()},deleteOrder:function(){console.log("Delete order"),this.$store.dispatch("pos/deleteOrder",this.index),this.closeDialog()}}},H={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{"before-close":t.closeDialog,visible:t._visible,title:"Update product",width:"50%"}},[o("el-form",{ref:"posProductForm",attrs:{model:t.posProductForm,rules:t.posProductFormRules,"label-position":t.formDialog.dialog.labelPosition,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"Quantity",prop:"qty"}},[o("el-input",{attrs:{type:"number",min:"0",max:t.posProductForm.stock,placeholder:"stock"},model:{value:t.posProductForm.qty,callback:function(e){t.$set(t.posProductForm,"qty",t._n(e))},expression:"posProductForm.qty"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Stock",prop:"stock"}},[t._v("\n      "+t._s(t.posProductForm.stock)+"\n    ")]),t._v(" "),o("el-form-item",{attrs:{label:"Pilih Harga"}},[o("el-radio-group",{model:{value:t.posProductForm.selectedPrice,callback:function(e){t.$set(t.posProductForm,"selectedPrice",t._n(e))},expression:"posProductForm.selectedPrice"}},t._l(t.posProductForm.prices,function(t,e){return o("el-radio-button",{key:e,attrs:{label:t.price}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"Diskon",prop:"discount"}},[o("el-row",{attrs:{gutter:5}},[o("el-col",{attrs:{sm:8}},[o("el-select",{attrs:{placeholder:"Select"},model:{value:t.posProductForm.discount.type,callback:function(e){t.$set(t.posProductForm.discount,"type",e)},expression:"posProductForm.discount.type"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{type:"number",min:"0",max:"100",placeholder:"stock"},model:{value:t.posProductForm.discount.value,callback:function(e){t.$set(t.posProductForm.discount,"value",t._n(e))},expression:"posProductForm.discount.value"}})],1)],1)],1),t._v(" "),o("el-form-item",[o("el-button",{on:{click:t.closeDialog}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.updateOrder}},[t._v("Update")]),t._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:t.deleteOrder}},[t._v("Delete")])],1)],1)],1)},staticRenderFns:[]},B={components:{appPosPurchaseItem:w,appPosDialogPayment:U,appPosDialogReceipt:M,appPosDialogProductUpdate:o("VU/8")(T,H,!1,null,null,null).exports},computed:r()({},Object(n.b)("pos",["posOrders"]),Object(n.c)("pos",{totalPayment:function(t){return t.totalPayment},totalOrderValue:function(t){return t.totalOrderValue}})),data:function(){return{keyword:"",paymentDialog:{visible:!1},receiptDialog:{visible:!1},change:0,calcTotalPrice:D.c,calcDiscountValue:D.a,shop_name:Object(b.c)(),posDialogProductUpdate:{visible:!1,product:null,index:-1}}},methods:{showPaymentDialog:function(){0===this.totalOrderValue?this.$message.error("Pilih item terlebih dahulu!"):this.paymentDialog.visible=!0},handleCloseDialog:function(t){this.paymentDialog.visible=!1},pay:function(){var t=this,e={shop_id:Object(b.b)(),payment:this.totalPayment,products:this.posOrders.map(function(t){return{product_id:t.productId,price:t.selectedPrice,quantity:t.qty,discount_type:t.discount.type,discount_value:t.discount.value}})};this.$store.dispatch("pos/SellProduct",e).then(function(e){var o=Object(D.b)(t.posOrders);t.change=t.totalPayment-o,t.paymentDialog.visible=!1,t.receiptDialog.visible=!0}).catch(function(e){e.response.data.messages.forEach(function(e){t.$message.error(e)}),t.loading=!1})},handleCloseDialogReceipt:function(t){this.resetPos(),this.receiptDialog.visible=!1},printReceipt:function(){var t=top.frames.posReceiptIframe.document,e=document.querySelector("#printJS-receipt").offsetHeight+0+"px";t.open(),t.write(document.querySelector("#printJS-receipt").outerHTML);var o="@media print {@page { size: 70mm "+e+"; margin: 0; }#printJS-receipt table {font-size:7pt !important;}}";t.head.innerHTML='<style type="text/css">'+o+"</style>",console.log(t.head.innerHTML),document.getElementById("pos-receipt-iframe").contentWindow.print()},openPosDialogProductUpdate:function(t,e){this.posDialogProductUpdate={visible:!0,product:e,index:t},console.log("clicked...",this.posDialogProductUpdate)},closePosDialogProductUpdate:function(){this.posDialogProductUpdate={visible:!1,product:null,index:-1}},resetPos:function(){this.$store.dispatch("pos/ResetPos"),this.change=0}}},N={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"product"},[o("div",{staticClass:"product-list"},t._l(t.posOrders,function(e,i){return o("app-pos-purchase-item",{key:e.product_id,attrs:{product:e},nativeOn:{click:function(o){t.openPosDialogProductUpdate(i,e)}}})})),t._v(" "),o("div",{staticClass:"total-purchase",on:{click:t.showPaymentDialog}},[t._v("\n    "+t._s(t._f("toIdr")(t.totalOrderValue))+"\n  ")]),t._v(" "),o("div",{attrs:{id:"printJS-receipt"}},[o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.shop_name))]),t._v(" "),o("table",{staticStyle:{"margin-top":"50px"},attrs:{width:"100%"}},[o("tr",[o("td"),t._v(" "),o("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("moment")(new Date,"ddd, D/MM/YYYY")))])])]),t._v(" "),o("table",{attrs:{width:"100%"}},[t._m(0),t._v(" "),t._l(t.posOrders,function(e){return[o("tr",{key:e.product_id},[o("td",{staticStyle:{"text-align":"center",padding:"5px 0"},attrs:{width:"10%"}},[t._v(t._s(e.qty))]),t._v(" "),o("td",{staticStyle:{padding:"5px 0"},attrs:{width:"60%"}},[t._v(t._s(e.name)+" hello kity super man")]),t._v(" "),o("td",{staticStyle:{"text-align":"right",padding:"5px 0"},attrs:{width:"30%"}},[t._v(t._s(t._f("toIdr")(t.calcTotalPrice(e.qty,e.selectedPrice))))])]),t._v(" "),0!==t.calcDiscountValue(t.calcDiscountValue(e.qty,e.selectedPrice),e.discount)?o("tr",{key:e.product_id},[o("td",{staticStyle:{"text-align":"right",padding:"2px 0"},attrs:{colspan:"2"}},[t._v("Diskon")]),t._v(" "),o("td",{staticStyle:{"text-align":"right",padding:"2px 0"}},[t._v(t._s(t._f("toIdr")(t.calcDiscountValue(t.calcDiscountValue(e.qty,e.selectedPrice),e.discount))))])]):t._e()]}),t._v(" "),o("tr",{staticStyle:{"font-weight":"bold"}},[o("td",{staticStyle:{"border-top":"1px dashed black",padding:"2px 0"},attrs:{colspan:"2"}},[t._v("Total")]),t._v(" "),o("td",{staticStyle:{"text-align":"right","border-top":"1px dashed black",padding:"2px 0"}},[t._v(t._s(t._f("toIdr")(t.totalOrderValue)))])]),t._v(" "),o("tr",[o("td",{staticStyle:{padding:"2px 0"},attrs:{colspan:"2"}},[t._v("Cash")]),t._v(" "),o("td",{staticStyle:{"text-align":"right",padding:"2px 0"}},[t._v(t._s(t._f("toIdr")(t.totalPayment)))])]),t._v(" "),o("tr",[o("td",{staticStyle:{padding:"2px 0"},attrs:{colspan:"2"}},[t._v("Change")]),t._v(" "),o("td",{staticStyle:{"text-align":"right",padding:"2px 0"}},[t._v(t._s(t._f("toIdr")(t.change)))])])],2),t._v(" "),t._m(1)]),t._v(" "),t.posDialogProductUpdate.visible?o("app-pos-dialog-product-update",{attrs:{visible:t.posDialogProductUpdate.visible,product:t.posDialogProductUpdate.product,index:t.posDialogProductUpdate.index},on:{closeDialog:t.closePosDialogProductUpdate}}):t._e(),t._v(" "),o("app-pos-dialog-payment",{attrs:{title:"Payment",visible:t.paymentDialog.visible,"on-cancel":t.handleCloseDialog,"on-confirm":t.pay,"total-order":t.totalOrderValue}}),t._v(" "),o("app-pos-dialog-receipt",{attrs:{title:"Kemabilan",visible:t.receiptDialog.visible,"on-cancel":t.handleCloseDialogReceipt,"on-confirm":t.printReceipt,change:t.change}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticStyle:{"border-top":"1px dashed black","border-bottom":"1px dashed black",pading:"10px 0"}},[this._v("Qty")]),this._v(" "),e("th",{staticStyle:{"border-top":"1px dashed black","border-bottom":"1px dashed black",pading:"10px 0"}},[this._v("Item")]),this._v(" "),e("th",{staticStyle:{"border-top":"1px dashed black","border-bottom":"1px dashed black",pading:"10px 0"}},[this._v("Price")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticStyle:{"margin-top":"50px"},attrs:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[this._v("Terima kasih. Selamat berbelanja kembali.")])])])}]};var W,L=o("VU/8")(B,N,!1,function(t){o("xEDH")},"data-v-0073d258",null).exports,z=o("TIfe"),K=(Object(z.b)(),W={components:{PosProductCategory:m,PosProductList:x,PosPurchaseList:L},computed:r()({},Object(n.b)("pos",["selectedShop"])),data:function(){return{username:"",selectedShopName:"",shopDialogForm:{selectedShop:null},shopDialogFormRules:{selectedShop:[{required:!0}]},changeShopDialog:{visible:!1,status:"",selectedId:void 0,dialog:l.a.md},changeShopConfirmationDialog:{visible:!1,dialog:l.a.md},shops:[],urlParamsShop:{s:"",l:10,p:1,oby:"created_at",sort:"desc"}}}},s()(W,"computed",{isSelectedShopSame:function(){var t=this.shopDialogForm.selectedShop,e=Object(b.b)();return console.log("selectedShop: ",t),console.log("currentShop: ",e),""===e||t===e}}),s()(W,"methods",{navigateToDashboard:function(){this.$router.push("/")},getUserShops:function(){this.shops=Object(z.d)()},handleChangeShop:function(){this.changeShopDialog.visible=!0},showChangeShopConfirmation:function(){this.changeShopDialog.visible=!1,this.isSelectedShopSame?this.changeShop():(console.log("shop tidak sama dengan sekarang..."),this.changeShopConfirmationDialog.visible=!0)},changeShop:function(){var t=this;this.changeShopConfirmationDialog.visible=!1;var e=this.shops.filter(function(e){return e.shop_id==t.shopDialogForm.selectedShop})[0];console.log("shop yg terpilih ",e),this.$store.dispatch("pos/setSelectedShop",e),console.log("set shop"),this.selectedShopName=e.name},handleCloseDialog:function(t){this.$message.error("Pilih toko terlebih dahulu")}}),s()(W,"created",function(){var t=Object(z.b)();this.username=t.username;var e=Object(b.a)();e?(this.$store.dispatch("pos/setSelectedShop",e),console.log("set selected shop"),this.shopDialogForm.selectedShop=e.shop_id,this.selectedShopName=Object(b.c)()):(this.changeShopDialog.visible=!0,console.log("pilih shop dulu...")),this.getUserShops()}),W),Y={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"100%"}},[o("iframe",{staticClass:"print",staticStyle:{width:"100%",height:"100% !important"},attrs:{id:"pos-receipt-iframe",name:"posReceiptIframe",frameborder:"0"}}),t._v(" "),o("div",{staticClass:"pos-container"},[o("el-row",{staticClass:"pos-header",attrs:{type:"flex",align:"middle"}},[o("el-col",{staticClass:"pos-header__col",attrs:{span:4}},[o("el-button",{attrs:{size:"small",icon:"el-icon-back"},on:{click:t.navigateToDashboard}})],1),t._v(" "),o("el-col",{staticClass:"pos-header__col text-center",attrs:{span:16}},[t._v(t._s(t.selectedShopName))]),t._v(" "),o("el-col",{staticClass:"pos-header__col text-right",attrs:{span:4}},[o("el-dropdown",[o("el-button",{attrs:{size:"small",icon:"el-icon-setting"}}),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("div",{staticStyle:{display:"flex","align-items":"center"}},[o("icon",{staticStyle:{"margin-right":"5px"},attrs:{name:"user"}}),t._v(" "),o("span",[t._v(t._s(t.username))])],1)]),t._v(" "),o("el-dropdown-item",{attrs:{divided:""}},[o("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:t.handleChangeShop}},[o("icon",{staticStyle:{"margin-right":"5px"},attrs:{name:"home"}}),t._v(" "),o("span",[t._v("Pindah Toko")])],1)])],1)],1)],1)],1),t._v(" "),o("el-row",{staticClass:"fullHeight",attrs:{type:"flex",gutter:1}},[o("el-col",{staticClass:"fullHeight",attrs:{span:4}},[o("pos-product-category")],1),t._v(" "),o("el-col",{staticClass:"fullHeight",attrs:{span:14}},[o("pos-product-list")],1),t._v(" "),o("el-col",{staticClass:"fullHeight",attrs:{span:6}},[o("pos-purchase-list")],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"Pilih toko",visible:t.changeShopDialog.visible,width:t.changeShopDialog.dialog.width,"before-close":t.handleCloseDialog},on:{"update:visible":function(e){t.$set(t.changeShopDialog,"visible",e)}}},[o("el-form",{ref:"shopDialogForm",attrs:{model:t.shopDialogForm,rules:t.shopDialogFormRules,"label-position":t.changeShopDialog.dialog.labelPosition,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"Pilih Toko",prop:"selectedShop"}},t._l(t.shops,function(e){return o("el-radio",{key:e.shop_id,attrs:{label:e.shop_id,border:""},model:{value:t.shopDialogForm.selectedShop,callback:function(e){t.$set(t.shopDialogForm,"selectedShop",e)},expression:"shopDialogForm.selectedShop"}},[t._v(t._s(e.name))])})),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",disabled:!t.shopDialogForm.selectedShop},on:{click:t.showChangeShopConfirmation}},[t._v(t._s(t.$t("table.confirm")))])],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"Apakah yakin untuk pindah toko?",visible:t.changeShopConfirmationDialog.visible,width:t.changeShopConfirmationDialog.width},on:{"update:visible":function(e){t.$set(t.changeShopConfirmationDialog,"visible",e)}}},[o("span",[t._v("Bila anda pindah maka transaksi yang sedang berlangsung akan hilang")]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.changeShopConfirmationDialog.visible=!1}}},[t._v("Cancel")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.changeShop}},[t._v("Setuju")])],1)])],1)])},staticRenderFns:[]};var J=o("VU/8")(K,Y,!1,function(t){o("hDVq")},"data-v-fffe7bb4",null);e.default=J.exports},hDVq:function(t,e){},mClu:function(t,e,o){var i=o("kM2E");i(i.S+i.F*!o("+E39"),"Object",{defineProperty:o("evD5").f})},xEDH:function(t,e){}});
//# sourceMappingURL=1.993296ec3464ab8d5a0d.js.map