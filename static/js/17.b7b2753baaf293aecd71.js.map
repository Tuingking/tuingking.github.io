{"version":3,"sources":["webpack:///src/views/report/ReportPeriodic.vue","webpack:///./src/utils/date.js","webpack:///./src/views/report/ReportPeriodic.vue?c903","webpack:///./src/views/report/ReportPeriodic.vue"],"names":["ReportPeriodic","DeleteConfirmation","TransactionTable","TransactionDetailDialog","innerWidth","_this","this","data","messages","status_code","report","total_profit","transactions","sm","arguments","length","undefined","responsive","formDialog","extends_default","md","transactionDetailDialog","transactionId","transaction","makeDialogResponsive","date","y","m","firstDay","lastDay","Date","getFullYear","getMonth","moment_default","format","getReportPeriodic","report_ReportPeriodic","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","_v","staticStyle","font-size","_s","_f","width","type","range-separator","value-format","start-placeholder","end-placeholder","on","change","model","value","callback","$$v","selectedDate","expression","margin-bottom","loading","onViewBtnClicked","openTransactionDetailDialog","visible","closeDialog","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"gNAuDA,IAEAA,qCAGAC,EAAA,sBACAC,EAAA,6BAEAC,EAAA,uCAGA,uCAGA,kBAEA,cAGA,6CAKAC,6CAGA,0DAQA,IAAAC,EAAAC,iBACA,2CAEA,sCAEA,8BAGA,qFAEAC,OACAC,WAEAC,mBACAC,oCACAC,0CACAC,wBACA,qCAIA,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAG,EAAA,EAAAJ,6FAEAK,WAAAC,OAAAb,KACAY,mBAEAL,SAEAK,WAAAC,OAAAb,KACAY,mBAEAE,yDAMA,uCACAC,wBAAAF,OAAAb,KACAe,oGAEAC,IAEA,2CACA,6DACAC,4FAGA,0CAMAC,4CC9IO,IACCC,EACAC,EACAC,EACFC,EACAC,qBAJEJ,EAAO,IAAIK,KACXJ,EAAID,EAAKM,cACTJ,EAAIF,EAAKO,WACXJ,EAAW,IAAIE,KAAKJ,EAAGC,EAAG,GAC1BE,EAAU,IAAIC,KAAKJ,EAAGC,EAAI,EAAG,IACjCC,EAAWK,IAAOL,GAAUM,SAC5BL,EAAUI,IAAOJ,GAASK,gBDgJ5BC,8CAIA7B,iGAGAF,iBE7JAgC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAhC,KAAaiC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,qBAA+BF,EAAA,UAAeG,OAAOC,OAAA,MAAaJ,EAAA,UAAeG,OAAO/B,GAAA,GAAAO,GAAA,MAAiBkB,EAAAQ,GAAA,0BAAAL,EAAA,QAA8CM,aAAaC,YAAA,UAAoBV,EAAAQ,GAAAR,EAAAW,GAAAX,EAAAY,GAAA,QAAAZ,GAAA3B,oBAAA2B,EAAAQ,GAAA,KAAAL,EAAA,UAAiFG,OAAO/B,GAAA,GAAAO,GAAA,MAAiBkB,EAAAQ,GAAA,gCAAAL,EAAA,kBAA8DM,aAAaI,MAAA,OAAcP,OAAQQ,KAAA,YAAAC,kBAAA,KAAAnB,OAAA,aAAAoB,eAAA,4BAAAC,oBAAA,aAAAC,kBAAA,YAAyKC,IAAKC,OAAApB,EAAAH,mBAA+BwB,OAAQC,MAAAtB,EAAA,aAAAuB,SAAA,SAAAC,GAAkDxB,EAAAyB,aAAAD,GAAqBE,WAAA,mBAA4B,WAAA1B,EAAAQ,GAAA,KAAAL,EAAA,OAAoCM,aAAakB,gBAAA,UAAwB3B,EAAAQ,GAAA,KAAAL,EAAA,OAAwBE,YAAA,oBAA8BF,EAAA,yBAA8BG,OAAOhC,aAAA0B,EAAA1B,aAAAsD,QAAA5B,EAAA4B,QAAAC,iBAAA7B,EAAA8B,gCAA0G,GAAA9B,EAAAQ,GAAA,KAAAL,EAAA,iCAAsDG,OAAOyB,QAAA/B,EAAAjB,wBAAAgD,QAAA9C,YAAAe,EAAAjB,wBAAAE,aAAoGkC,IAAKa,YAAA,SAAAC,GAA+BjC,EAAAjB,wBAAAgD,SAAA,OAA8C,IAE9xCG,oBCYjBC,EAdAC,EAAA,OAcAC,CACA3E,EACAoC,GATA,EAEA,KAEA,KAEA,MAUAwC,EAAA,QAAAH,EAAA","file":"static/js/17.b7b2753baaf293aecd71.js","sourcesContent":["<template>\n  <div>\n\n    <div class=\"filter-container\">\n\n      <el-row :gutter=\"10\">\n        <el-col :sm=\"24\" :md=\"12\">\n          Keuntungan: <span style=\"font-size:24pt\">{{ total_profit | toIdr }}</span>\n        </el-col>\n        <el-col :sm=\"24\" :md=\"12\">\n          Periode:\n          <el-date-picker\n            style=\"width:80%\"\n            @change=\"getReportPeriodic\"\n            v-model=\"selectedDate\"\n            type=\"daterange\"\n            range-separator=\"To\"\n            format=\"dd-MM-yyyy\"\n            value-format=\"yyyy-MM-ddTHH:mm:ss+07:00\"\n            start-placeholder=\"Start date\"\n            end-placeholder=\"End date\">\n          </el-date-picker>\n        </el-col>\n      </el-row>\n    </div>\n\n    <div style=\"margin-bottom:10px\">\n\n    </div>\n\n    <div class=\"table-container\">\n      <app-transaction-table\n        :transactions=\"transactions\"\n        :loading=\"loading\"\n        :onViewBtnClicked=\"openTransactionDetailDialog\"\n      ></app-transaction-table>\n    </div>\n\n    <app-transaction-detail-dialog\n      :visible=\"transactionDetailDialog.visible\"\n      :transaction=\"transactionDetailDialog.transaction\"\n      @closeDialog=\"transactionDetailDialog.visible = false\"\n    ></app-transaction-detail-dialog>\n\n  </div>\n</template>\n\n<script>\nimport { dialog } from \"@/responsive\";\nimport deleteConfirmation from \"@/components/dialog/DeleteConfirmation\";\nimport { arrayToObject } from \"@/utils/arrayToObject\";\nimport TransactionTable from \"@/components/Transaction/TransactionTable\";\nimport TransactionDetailDialog from \"@/components/Transaction/TransactionDetailDialog\";\nimport { getFirstLastDay } from \"@/utils/date\";\n\nconst formFields = [\"name\", \"address\", \"phone\", [\"products\", []]];\n\nexport default {\n  components: {\n    appDeleteConfirmation: deleteConfirmation,\n    appTransactionTable: TransactionTable,\n    appTransactionDetailDialog: TransactionDetailDialog\n  },\n  data() {\n    return {\n      total_profit: 0,\n      transactions: [],\n      products: [],\n      loading: false,\n      textMap: {\n        update: \"Edit\",\n        create: \"Create\"\n      },\n\n      selectedDate: [],\n\n      // Responsive\n      windowWidth: window.innerWidth,\n\n      // Transaction Dialog\n      transactionDetailDialog: {\n        visible: false,\n        transaction: {}\n      }\n    };\n  },\n\n  methods: {\n    // Get\n    getReportPeriodic() {\n      console.log(\"FETCH report periodic ...\")\n      this.loading = true;\n\n      const payload = {\n        start_date: this.selectedDate[0],\n        end_date: this.selectedDate[1]\n      }\n\n      this.$store.dispatch(\"report/GenerateReportPeriodic\", payload).then(res => {\n        const data = res.data;\n        const messages = data.messages;\n        const status_code = data.status_code;\n\n        const report = data.data.report;\n        this.total_profit = data.data.report.total_profit;\n        this.transactions = data.data.report.transactions;\n        this.loading = false;\n      });\n    },\n    // Responsive\n    makeDialogResponsive(sm = dialog.sm, md = dialog.md) {\n      if (this.windowWidth < 990) {\n        this.formDialog = {\n          ...this.formDialog,\n          dialog: sm\n        };\n      } else {\n        this.formDialog = {\n          ...this.formDialog,\n          dialog: md\n        };\n      }\n    },\n\n    // Transaction dialog\n    openTransactionDetailDialog(transactionId) {\n      console.log(\"Open transaction detail dialog\");\n      this.transactionDetailDialog = {\n        ...this.transactionDetailDialog,\n        transaction: this.transactions.filter(transaction => {\n          return transaction.transaction_id === transactionId;\n        })[0]\n      };\n      this.transactionDetailDialog.visible = true;\n      console.log(\"transaction => \", this.transactionDetailDialog.transaction);\n    },\n    closeTransactionDetailDialog() {\n      this.transactionDetailDialog.visible = false;\n    }\n  },\n\n  watch: {\n    windowWidth(newWidth, oldWidth) {\n      this.makeDialogResponsive();\n    }\n  },\n\n  created() {\n    // set default selected date\n    this.selectedDate = getFirstLastDay();\n\n    this.getReportPeriodic();\n\n  },\n\n  mounted() {\n    let that = this;\n    this.$nextTick(function() {\n      window.addEventListener(\"resize\", function(e) {\n        that.windowWidth = window.innerWidth;\n      });\n    });\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/report/ReportPeriodic.vue","import moment from \"moment\";\n\nexport function getFirstLastDay() {\n  const date = new Date();\n  const y = date.getFullYear();\n  const m = date.getMonth();\n  let firstDay = new Date(y, m, 1);\n  let lastDay = new Date(y, m + 1, 0);\n  firstDay = moment(firstDay).format();\n  lastDay = moment(lastDay).format();\n\n  return [firstDay, lastDay];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/date.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"filter-container\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"sm\":24,\"md\":12}},[_vm._v(\"\\n        Keuntungan: \"),_c('span',{staticStyle:{\"font-size\":\"24pt\"}},[_vm._v(_vm._s(_vm._f(\"toIdr\")(_vm.total_profit)))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"sm\":24,\"md\":12}},[_vm._v(\"\\n        Periode:\\n        \"),_c('el-date-picker',{staticStyle:{\"width\":\"80%\"},attrs:{\"type\":\"daterange\",\"range-separator\":\"To\",\"format\":\"dd-MM-yyyy\",\"value-format\":\"yyyy-MM-ddTHH:mm:ss+07:00\",\"start-placeholder\":\"Start date\",\"end-placeholder\":\"End date\"},on:{\"change\":_vm.getReportPeriodic},model:{value:(_vm.selectedDate),callback:function ($$v) {_vm.selectedDate=$$v},expression:\"selectedDate\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('app-transaction-table',{attrs:{\"transactions\":_vm.transactions,\"loading\":_vm.loading,\"onViewBtnClicked\":_vm.openTransactionDetailDialog}})],1),_vm._v(\" \"),_c('app-transaction-detail-dialog',{attrs:{\"visible\":_vm.transactionDetailDialog.visible,\"transaction\":_vm.transactionDetailDialog.transaction},on:{\"closeDialog\":function($event){_vm.transactionDetailDialog.visible = false}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93280220\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/report/ReportPeriodic.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReportPeriodic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReportPeriodic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93280220\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ReportPeriodic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/report/ReportPeriodic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}